
<app-entry-point [titulo]="!esqueciSenha ? 'Acesse sua conta' : 'Recuperar senha'">
  <ng-container *ngIf="!esqueciSenha; else recuperacaoSenha">
    <form [formGroup]="formLogin" (ngSubmit)="entrar()">
      <div class="field mb-3">
        <label for="email" class="block text-900 font-medium mb-2">Email</label>
        <input formControlName="email" id="email" type="email" pInputText class="w-full" placeholder="Digite seu e-mail" />
      </div>

      <div class="field mb-4">
        <label for="password" class="block text-900 font-medium mb-2">Senha</label>
        <input formControlName="senha" id="password" type="password" pPassword class="w-full" inputStyleClass="w-full" toggleMask="true" />
      </div>

      <div class="flex align-items-center mb-3">
        <p-checkbox inputId="remember" binary="true"></p-checkbox>
        <label for="remember" class="ml-2 text-sm">Lembrar-me</label>
      </div>
      <a (click)="esqueciSenha = true;" class="text-sm text-primary cursor-pointer">Esqueci a senha</a>

      <button type="submit" [disabled]="formLogin.invalid" pButton label="Entrar" class="mt-3 w-full p-button-primary"></button>
    </form>

    <div class="text-center mt-4">
      <span class="text-sm">Não tem uma conta? <a class="text-primary cursor-pointer" routerLink="/cadastre-se">Cadastre-se</a></span>
    </div>
  </ng-container>

  <ng-template #recuperacaoSenha>
    <ng-container *ngIf="!enviarLink; else linkEnviado">
      <form>
        <div class="field mb-3">
          <label for="email" class="block text-900 font-medium mb-2">Email</label>
          <input id="email" type="email" pInputText class="w-full" placeholder="Digite seu e-mail" />
        </div>

        <button (click)="enviarLink = true" pButton type="submit" label="Recuperar Senha" class="mt-3 w-full p-button-primary"></button>
      </form>
    </ng-container>

    <ng-template #linkEnviado>
      <div class="text-center m-4">
        <span class="text-sm">Um link de recuperação de senha foi enviado para o seu e-mail. Verifique sua caixa de entrada.</span>
      </div>
    </ng-template>
  </ng-template>
</app-entry-point>

